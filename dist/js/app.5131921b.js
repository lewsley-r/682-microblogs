(function(e){function t(t){for(var o,s,a=t[0],i=t[1],l=t[2],d=0,m=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&m.push(r[s][0]),r[s]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);u&&u(t);while(m.length)m.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,a=1;a<n.length;a++){var i=n[a];0!==r[i]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},c=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var u=i;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"3c1e":function(e,t,n){"use strict";n("a39f")},"619a":function(e,t,n){"use strict";n("6af0")},"6af0":function(e,t,n){},"75a9":function(e,t,n){},"7af3":function(e,t,n){},"7c2a":function(e,t,n){},8160:function(e){e.exports=JSON.parse('{"b":"dev-d68s3iwj.eu.auth0.com","a":"TdQH77rSLvFZPRhulSOdEf9fo50GHL6A"}')},9371:function(e,t,n){},"97de":function(e,t,n){"use strict";n("75a9")},"9ae0":function(e,t,n){"use strict";n("7af3")},a39f:function(e,t,n){},b2f1:function(e,t,n){"use strict";n("7c2a")},c3a5:function(e,t,n){"use strict";n("9371")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),r={id:"app",class:"d-flex flex-column h-100"},c={class:"container flex-grow-1"},s={class:"mt-5"},a=Object(o["createElementVNode"])("footer",{class:"bg-light text-center p-3"},[Object(o["createElementVNode"])("p",null,[Object(o["createTextVNode"])(" Project created by "),Object(o["createElementVNode"])("a",{href:"https://github.com/lewsley-r"},"Ronan Lewsley")])],-1);function i(e,t,n,i,l,u){var d=Object(o["resolveComponent"])("nav-bar"),m=Object(o["resolveComponent"])("error"),p=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",r,[Object(o["createVNode"])(d),Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(m),Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(p)])]),a])}n("b0c0");var l={class:"nav-container mb-3"},u={class:"navbar navbar-expand-md navbar-light bg-light"},d={class:"container"},m=Object(o["createElementVNode"])("img",{src:"/logo_transparent.png",style:{height:"200px","border-radius":"10em",padding:"1vh","margin-top":"2.5vh"}},null,-1),p={class:"collapse navbar-collapse",id:"navbarNav"},b={class:"navbar-nav mr-auto"},g={class:"nav-item"},O=Object(o["createTextVNode"])("Home"),h={key:0},f={class:"navbar-nav d-none d-md-block"},j={key:0,class:"nav-item"},k={key:1,class:"nav-item dropdown"},v={class:"nav-link dropdown-toggle",href:"#",id:"profileDropDown","data-toggle":"dropdown"},N=["src"],E={class:"dropdown-menu dropdown-menu-right"},V={class:"dropdown-header"},w=Object(o["createTextVNode"])("Profile "),y=Object(o["createTextVNode"])("Log out "),P={key:0,class:"navbar-nav d-md-none"},S={key:1,id:"mobileAuthNavBar",class:"navbar-nav d-md-none d-flex"},C={class:"nav-item"},B={class:"user-info"},I=["src"],L={class:"d-inline-block"},D=Object(o["createTextVNode"])("Profile");function x(e,t,n,r,c,s){var a=Object(o["resolveComponent"])("router-link"),i=Object(o["resolveComponent"])("font-awesome-icon");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createElementVNode"])("nav",u,[Object(o["createElementVNode"])("div",d,[m,Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("ul",b,[Object(o["createElementVNode"])("li",g,[Object(o["createVNode"])(a,{to:"/",class:"nav-link"},{default:Object(o["withCtx"])((function(){return[O]})),_:1})]),r.isAuthenticated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",h,[Object(o["createElementVNode"])("form",{onSubmit:t[2]||(t[2]=Object(o["withModifiers"])((function(){}),["prevent"])),class:"uk-search"},[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.searchQuery=e}),class:"uk-search-input",type:"search",onKeyup:t[1]||(t[1]=Object(o["withKeys"])((function(e){return s.searchByUser()}),["enter"])),placeholder:"Search Blogs by Owner's name.."},null,544),[[o["vModelText"],c.searchQuery]])],32)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("ul",f,[r.isAuthenticated||r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",j,[Object(o["createElementVNode"])("button",{id:"qsLoginBtn",class:"btn btn-primary btn-margin",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(){return r.login&&r.login.apply(r,arguments)}),["prevent"]))},"Login")])),r.isAuthenticated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",k,[Object(o["createElementVNode"])("a",v,[Object(o["createElementVNode"])("img",{src:r.user.picture,alt:"User's profile picture",class:"nav-user-profile rounded-circle",width:"50"},null,8,N)]),Object(o["createElementVNode"])("div",E,[Object(o["createElementVNode"])("div",V,Object(o["toDisplayString"])(r.user.name),1),Object(o["createVNode"])(a,{to:"/profile",class:"dropdown-item dropdown-profile"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,{class:"mr-3",icon:"user"}),w]})),_:1}),Object(o["createElementVNode"])("a",{id:"qsLogoutBtn",href:"#",class:"dropdown-item",onClick:t[4]||(t[4]=Object(o["withModifiers"])((function(){return r.logout&&r.logout.apply(r,arguments)}),["prevent"]))},[Object(o["createVNode"])(i,{class:"mr-3",icon:"power-off"}),y])])])):Object(o["createCommentVNode"])("",!0)]),r.isAuthenticated||r.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",P,[Object(o["createElementVNode"])("button",{id:"qsLoginBtn",class:"btn btn-primary btn-block",onClick:t[5]||(t[5]=function(){return r.login&&r.login.apply(r,arguments)})},"Log in")])),r.isAuthenticated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",S,[Object(o["createElementVNode"])("li",C,[Object(o["createElementVNode"])("span",B,[Object(o["createElementVNode"])("img",{src:r.user.picture,alt:"User's profile picture",class:"nav-user-profile d-inline-block rounded-circle mr-3",width:"50"},null,8,I),Object(o["createElementVNode"])("h6",L,Object(o["toDisplayString"])(r.user.name),1)])]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{icon:"user",class:"mr-3"}),Object(o["createVNode"])(a,{to:"/profile"},{default:Object(o["withCtx"])((function(){return[D]})),_:1})]),Object(o["createElementVNode"])("li",null,[Object(o["createVNode"])(i,{icon:"power-off",class:"mr-3"}),Object(o["createElementVNode"])("a",{id:"qsLogoutBtn",href:"#",class:"",onClick:t[6]||(t[6]=Object(o["withModifiers"])((function(){return r.logout&&r.logout.apply(r,arguments)}),["prevent"]))},"Log out")])])):Object(o["createCommentVNode"])("",!0)])])])])}n("caad"),n("2532");var F=n("f24d"),U=(n("ac1f"),n("5319"),n("be92")),R=n("bc3a"),T=n.n(R),_=n("f23d"),A=Object(U["b"])("posts",{state:function(){return{posts:[],filterPosts:[],restEndpoints:_,blobBaseUrl:"https://microblogs.blob.core.windows.net",isPostLiked:!1,currentPost:null,currentPostLikes:[],currentPostComments:[],currentSentimentResults:null,currentImageResults:null,myLikeId:null}},actions:{getAllPosts:function(){T.a.get(this.restEndpoints.endpoint.getAll).then(function(e){var t;if(e)for(t in this.posts=e.data.ResultSets.Table1,this.posts)this.posts[t].ImgUrl=this.blobBaseUrl+this.posts[t].ImgUrl}.bind(this)).catch((function(){alert("Unable to get Posts, please try again later.")}))},getPostLikes:function(e){T.a.get(this.restEndpoints.endpoint.getPostLikes.replace("{id}",e)).then(function(e){void 0!=e.data.ResultSets.Table1[0]&&(this.currentPostLikes=e.data.ResultSets.Table1)}.bind(this)).catch((function(){alert("Could not Get post likes.")}))},getPostComments:function(e){T.a.get(this.restEndpoints.endpoint.getPostComments.replace("{id}",e)).then(function(e){void 0!=e.data.ResultSets.Table1[0]&&(this.currentPostComments=e.data.ResultSets.Table1)}.bind(this)).catch((function(){alert("Could not Get post comments. Please try reloading the page.")}))},analyseSentiment:function(e){var t=new FormData;t.append("PostContent",e),T.a.post(this.restEndpoints.endpoint.getPostSentiment,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){this.currentSentimentResults=e.data[0]}.bind(this)).catch((function(){alert("Something's went wrong please try again.")}))},analyseBlogImage:function(e){var t=new FormData;t.append("imgUrl",e),T.a.post(this.restEndpoints.endpoint.getPostImageAnalytics,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){console.log(e.data),this.currentImageResults=e.data}.bind(this)).catch((function(){alert("Something's went wrong please try again.")}))},createPost:function(e){var t=new FormData;t.append("UserID",e.userId),t.append("File",e.file),t.append("OwnerOrg",e.orgName),t.append("OwnerName",e.ownerName),t.append("PostContent",e.postContent),T.a.post(this.restEndpoints.endpoint.createPost,t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){this.isPostLiked=!0,200==e.status&&alert("Posted Successfully!")}.bind(this)).catch((function(){alert("Something's went wrong please try again.")}))},createPostLike:function(e){var t=new FormData;t.append("UserID",e.userId),t.append("OwnerName",e.ownerName),T.a.post(this.restEndpoints.endpoint.createPostLike.replace("{id}",e.id),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){200==e.status&&alert("Post Liked Successfully!")}))},createPostComment:function(e){var t=new FormData;t.append("content",e.content),t.append("UserID",e.userId),t.append("OwnerName",e.ownerName),T.a.post(this.restEndpoints.endpoint.createPostComment.replace("{id}",e.id),t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){200==t.status&&(this.currentPostComments.push({CommentContent:e.content,CommentID:0,OwnerName:e.ownerName,PostID:e.id}),alert("Comment posted Successfully!"))}.bind(this))},removePostLike:function(){T.a.delete(this.restEndpoints.endpoint.removePostLike.replace("{id}",this.myLikeId)).then((function(e){200==e.status&&alert("Post Like removed Successfully!")}))}},getters:{}}),z={name:"NavBar",setup:function(){var e=Object(F["c"])();return{isAuthenticated:e.isAuthenticated,isLoading:e.isLoading,user:e.user,login:function(){e.loginWithRedirect()},logout:function(){e.logout({returnTo:window.location.origin})}}},data:function(){return{searchQuery:null,postsStore:A()}},methods:{searchByUser:function(){var e,t=this;for(e in this.postsStore.$patch((function(e){e.filterPosts=[]})),this.postsStore.posts)this.postsStore.posts[e].NameOfOwner.includes(this.searchQuery)&&this.postsStore.$patch((function(n){n.filterPosts.push(t.postsStore.posts[e])})),parseInt(e)+1==this.postsStore.posts.length&&this.$router.push("/search-results")}}},M=(n("3c1e"),n("6b0d")),G=n.n(M);const J=G()(z,[["render",x]]);var K=J,Q={key:0,class:"alert alert-danger alert-dismissible"},H=Object(o["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"alert","aria-label":"Close"},[Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"Ã—")],-1);function X(e,t,n,r,c,s){return s.msg?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Q,[Object(o["createTextVNode"])(Object(o["toDisplayString"])(s.msg)+" ",1),H])):Object(o["createCommentVNode"])("",!0)}var q={name:"Error",computed:{msg:function(){return this.$auth0.error.value}}};const Z=G()(q,[["render",X]]);var W=Z,Y=(n("4c53"),Object(U["b"])("users",{state:function(){return{currentRole:"Reader"}},actions:{getToken:function(){T.a.post("https://dev-d68s3iwj.eu.auth0.com/oauth/token",{client_id:"GuQN6NppqOixC0PmVw06nI8Ck6kvtvJK",client_secret:"3UnxL25EuvZ6ZUYBCtPTgQM7R6hznGoNXqeSV9ojPKIUgPhgqo-RUk095JkNbA92",audience:"https://dev-d68s3iwj.eu.auth0.com/api/v2/",grant_type:"client_credentials"},{headers:{"content-type":"application/json"}}).then((function(e){localStorage.setItem("token",e.data.access_token)})).catch((function(e){console.log(e)}))},roleCheck:function(){var e=Object(F["c"])();T.a.get("https://dev-d68s3iwj.eu.auth0.com/api/v2/users/".concat(e.user.value.sub,"/roles"),{headers:{authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){console.log(e),e.data[0]&&(this.currentRole=e.data[0].name)}.bind(this)).catch((function(e){console.log(e)}))}},getters:{}})),$={components:{NavBar:K,Error:W},data:function(){return{userStore:Y(),postsStore:A()}},mounted:function(){this.userStore.getToken(),this.postsStore.getAllPosts()}};const ee=G()($,[["render",i]]);var te=ee,ne=n("6605"),oe=function(e){return Object(o["pushScopeId"])("data-v-24b2d6fc"),e=e(),Object(o["popScopeId"])(),e},re=oe((function(){return Object(o["createElementVNode"])("h1",{class:"homeTitle"},"Most Recent Posts",-1)})),ce=oe((function(){return Object(o["createElementVNode"])("hr",null,null,-1)}));function se(e,t,n,r,c,s){var a=Object(o["resolveComponent"])("Post"),i=Object(o["resolveComponent"])("home-content");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[re,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(this.posts,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id},[Object(o["createVNode"])(a,{PostID:e.PostID,OwnerName:e.NameOfOWner,OwnerOrg:e.OwnerOrganisation,ImgUrl:e.ImgUrl,PostContent:e.PostContent,UserID:e.UserID,Liked:e.isLiked},null,8,["PostID","OwnerName","OwnerOrg","ImgUrl","PostContent","UserID","Liked"])])})),128)),ce,Object(o["createVNode"])(i)])}n("fb6a"),n("a4d3"),n("e01a"),n("b680");var ae=function(e){return Object(o["pushScopeId"])("data-v-6e931adf"),e=e(),Object(o["popScopeId"])(),e},ie={key:0},le={key:0,class:"uk-card uk-card-default uk-card-body"},ue=ae((function(){return Object(o["createElementVNode"])("span",{"uk-icon":"code","uk-tooltip":"Analyse Sentiment"},null,-1)})),de=[ue],me=ae((function(){return Object(o["createElementVNode"])("span",{"uk-icon":"image","uk-tooltip":"Analyse Blog Image"},null,-1)})),pe=[me],be={id:"modal-sentiment",class:"uk-flex-top","uk-modal":""},ge={key:0,class:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical"},Oe=ae((function(){return Object(o["createElementVNode"])("button",{class:"uk-modal-close-default",type:"button","uk-close":""},null,-1)})),he=ae((function(){return Object(o["createElementVNode"])("h2",null,"Sentiment Results",-1)})),fe=["value"],je=["value"],ke=["value"],ve={id:"modal-image",class:"uk-flex-top","uk-modal":""},Ne={key:0,class:"uk-modal-dialog uk-modal-body uk-margin-auto-vertical"},Ee=ae((function(){return Object(o["createElementVNode"])("button",{class:"uk-modal-close-default",type:"button","uk-close":""},null,-1)})),Ve=ae((function(){return Object(o["createElementVNode"])("h2",null,"Image Results",-1)})),we=["value"],ye=ae((function(){return Object(o["createElementVNode"])("h2",null,"Other Suggestions",-1)})),Pe=["value"],Se=["src"],Ce=ae((function(){return Object(o["createElementVNode"])("span",{"uk-icon":"file-text","uk-tooltip":"View Post"},null,-1)})),Be=[Ce],Ie={key:1},Le=ae((function(){return Object(o["createElementVNode"])("div",{"uk-spinner":"ratio: 5",id:"loadingSpinner"},null,-1)})),De=[Le],xe={key:1},Fe=ae((function(){return Object(o["createElementVNode"])("h5",{id:"loginNotice"}," Login to see the latest blogs! ",-1)})),Ue=[Fe];function Re(e,t,n,r,c,s){return r.isAuthenticated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ie,[0==c.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",le,[Object(o["createElementVNode"])("button",{class:"reactions uk-icon-button",type:"button","uk-toggle":"target: #modal-sentiment",onClick:t[0]||(t[0]=function(){return s.analyseSentiment&&s.analyseSentiment.apply(s,arguments)})},de),Object(o["createElementVNode"])("button",{class:"reactions uk-icon-button",type:"button","uk-toggle":"target: #modal-image",onClick:t[1]||(t[1]=function(e){return s.analyseImage()})},pe),Object(o["createElementVNode"])("div",be,[s.sentiment?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ge,[Oe,he,Object(o["createElementVNode"])("label",null,"Neutral: "+Object(o["toDisplayString"])(s.sentiment.confidenceScores.neutral),1),Object(o["createElementVNode"])("progress",{class:"uk-progress",value:s.sentiment.confidenceScores.neutral},null,8,fe),Object(o["createElementVNode"])("label",null,"Positive: "+Object(o["toDisplayString"])(s.sentiment.confidenceScores.positive),1),Object(o["createElementVNode"])("progress",{class:"uk-progress",value:s.sentiment.confidenceScores.positive},null,8,je),Object(o["createElementVNode"])("label",null,"Negative: "+Object(o["toDisplayString"])(s.sentiment.confidenceScores.negative),1),Object(o["createElementVNode"])("progress",{class:"uk-progress",value:s.sentiment.confidenceScores.negative},null,8,ke),Object(o["createElementVNode"])("h3",null,"Result: "+Object(o["toDisplayString"])(s.sentiment.sentiment),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",ve,[s.imageResults?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ne,[Ee,Ve,Object(o["createElementVNode"])("h3",null,"Final Result: "+Object(o["toDisplayString"])(s.imageResults.description.captions[0].text),1),Object(o["createElementVNode"])("h4",null,"Confidence: "+Object(o["toDisplayString"])(100*s.imageResults.description.captions[0].confidence.toFixed(2))+" %",1),Object(o["createElementVNode"])("progress",{class:"uk-progress",value:s.imageResults.description.captions[0].confidence},null,8,we),ye,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.imageResults.tags,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id},[Object(o["createElementVNode"])("p",null,"Name: "+Object(o["toDisplayString"])(e.name)+", Confidence: "+Object(o["toDisplayString"])(100*e.confidence.toFixed(2))+"%",1),Object(o["createElementVNode"])("progress",{class:"uk-progress",value:e.confidence},null,8,Pe)])})),128))])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(n.OwnerName),1),Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(n.OwnerOrg),1),Object(o["createElementVNode"])("img",{src:n.ImgUrl,alt:"microblog-photo","max-height":"100px"},null,8,Se),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(n.PostContent),1),Object(o["createElementVNode"])("small",null,Object(o["toDisplayString"])(n.UserID),1),Object(o["createElementVNode"])("a",{class:"reactions uk-icon-button",onClick:t[2]||(t[2]=function(e){return s.viewPost()})},Be)])):1==this.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ie,De)):Object(o["createCommentVNode"])("",!0)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",xe,Ue))}var Te={name:"Post",props:["PostID","OwnerName","OwnerOrg","ImgUrl","PostContent","UserID"],setup:function(){var e=Object(F["c"])();return{isAuthenticated:e.isAuthenticated,user:e.user}},data:function(){return{postsStore:A(),isLoading:!1}},computed:{sentiment:function(){return this.postsStore.currentSentimentResults},imageResults:function(){return this.postsStore.currentImageResults}},methods:{viewPost:function(){var e=this;this.postsStore.getPostLikes(this.PostID),this.postsStore.getPostComments(this.PostID),this.isLoading=!0,this.postsStore.$patch((function(t){t.currentPost={id:e.PostID,userId:e.UserID,ownerName:e.OwnerName,ownerOrg:e.OwnerOrg,imgUrl:e.ImgUrl,postContent:e.PostContent}})),setTimeout((function(){e.$router.push("/view-post"),e.isLoading=!1}),2e3)},analyseSentiment:function(){this.postsStore.analyseSentiment(this.PostContent)},analyseImage:function(){this.postsStore.analyseBlogImage(this.ImgUrl)}}};n("b2f1");const _e=G()(Te,[["render",Re],["__scopeId","data-v-6e931adf"]]);var Ae=_e,ze={class:"next-steps"};function Me(e,t,n,r,c,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ze)}var Ge={name:"HomeContent"};const Je=G()(Ge,[["render",Me]]);var Ke=Je,Qe={name:"home",components:{Post:Ae,HomeContent:Ke},data:function(){return{postsStore:A()}},computed:{posts:function(){return this.postsStore.posts.slice(0,6)}}};n("619a");const He=G()(Qe,[["render",se],["__scopeId","data-v-24b2d6fc"]]);var Xe=He,qe=(n("e9c4"),function(e){return Object(o["pushScopeId"])("data-v-ab34661c"),e=e(),Object(o["popScopeId"])(),e}),Ze={key:0,class:"uk-child-width-expand@s uk-text-center","uk-grid":""},We={class:"uk-card uk-card-default uk-card-body"},Ye={class:"uk-fieldset"},$e=qe((function(){return Object(o["createElementVNode"])("h1",null,"MicroBlog",-1)})),et={class:"uk-margin"},tt={class:"js-upload","uk-form-custom":""},nt=qe((function(){return Object(o["createElementVNode"])("button",{class:"uk-button uk-button-default",accept:"image/png, image/gif, image/jpeg",type:"button",tabindex:"-1"},"Add a photo",-1)})),ot={key:0},rt={class:"uk-child-width-expand@s uk-text-center","uk-grid":""},ct={class:"uk-card uk-card-default uk-card-body"},st={class:"row align-items-center profile-header"},at={class:"col-md-2 mb-3"},it=["src"],lt={class:"col-md text-center text-md-left"},ut={class:"lead text-muted"},dt=qe((function(){return Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:""},[Object(o["createElementVNode"])("div",{class:"js-upload","uk-form-custom":""},[Object(o["createElementVNode"])("input",{type:"file",multiple:""}),Object(o["createElementVNode"])("button",{class:"uk-button uk-button-default uk-button-primary",accept:"image/png, image/gif, image/jpeg",type:"button",tabindex:"-1"}," Change Profile Photo ")])])],-1)})),mt={class:"container"},pt={class:"row"},bt={class:"json"};function gt(e,t,n,r,c,s){var a,i,l,u=Object(o["resolveDirective"])("highlightjs");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,["Creator"==this.store.currentRole?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ze,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",We,[Object(o["createElementVNode"])("form",{onSubmit:t[4]||(t[4]=Object(o["withModifiers"])((function(){}),["prevent"]))},[Object(o["createElementVNode"])("fieldset",Ye,[$e,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{class:"uk-textarea",placeholder:"Enter MicroBlog Post, 200 characters maximum",maxlength:"200","onUpdate:modelValue":t[0]||(t[0]=function(e){return c.postContent=e})},null,512),[[o["vModelText"],c.postContent]]),Object(o["createElementVNode"])("div",et,[Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"uk-input",type:"text",placeholder:"Enter Organisation Name","onUpdate:modelValue":t[1]||(t[1]=function(e){return c.orgName=e})},null,512),[[o["vModelText"],c.orgName]])]),Object(o["createElementVNode"])("div",tt,[Object(o["createElementVNode"])("input",{type:"file",multiple:"",onChange:t[2]||(t[2]=function(e){return s.onChangePhoto(e)})},null,32),nt]),Object(o["createElementVNode"])("h4",null,[this.blogPhoto?(Object(o["openBlock"])(),Object(o["createElementBlock"])("label",ot,"File Name: "+Object(o["toDisplayString"])(this.blogPhoto.name),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("button",{class:"uk-button uk-button-default uk-button-primary blogBtn",onClick:t[3]||(t[3]=function(){return s.submitForm&&s.submitForm.apply(s,arguments)})}," Submit Blog ")])],32)])])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",rt,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",ct,[Object(o["createElementVNode"])("div",st,[Object(o["createElementVNode"])("div",at,[Object(o["createElementVNode"])("img",{src:null===(a=r.user)||void 0===a?void 0:a.picture,alt:"User's profile picture",class:"rounded-circle img-fluid profile-picture"},null,8,it)]),Object(o["createElementVNode"])("div",lt,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(null===(i=r.user)||void 0===i?void 0:i.name),1),Object(o["createElementVNode"])("p",ut,Object(o["toDisplayString"])(null===(l=r.user)||void 0===l?void 0:l.email),1)])])])]),dt]),Object(o["createElementVNode"])("div",mt,[Object(o["createElementVNode"])("div",pt,[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("pre",null,[Object(o["createElementVNode"])("code",bt,Object(o["toDisplayString"])(JSON.stringify(r.user,null,2)),1)])),[[u]])])])],64)}var Ot={name:"profile",setup:function(){var e=Object(F["c"])(),t=Y(),n=A();return{user:e.user,store:t,postsStore:n}},data:function(){return{blogPhoto:null,orgName:null,postContent:null}},mounted:function(){this.store.roleCheck()},methods:{onChangePhoto:function(e){this.blogPhoto=e.srcElement.files[0]},submitForm:function(){var e={file:this.blogPhoto,orgName:this.orgName,postContent:this.postContent,userId:this.user.sub,ownerName:this.user.nickname};this.postsStore.createPost(e)}}};n("c3a5");const ht=G()(Ot,[["render",gt],["__scopeId","data-v-ab34661c"]]);var ft=ht,jt=Object(o["createElementVNode"])("h1",{class:"searchTitle"},"Search Results",-1),kt={key:0},vt=Object(o["createElementVNode"])("h3",{class:"noResults"},"No Results match your search",-1),Nt=[vt];function Et(e,t,n,r,c,s){var a=Object(o["resolveComponent"])("Post");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[jt,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(this.posts,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id},[Object(o["createVNode"])(a,{OwnerName:e.NameOfOwner,OwnerOrg:e.OwnerOrganisation,ImgUrl:e.ImgUrl,PostContent:e.PostContent,UserID:e.UserID},null,8,["OwnerName","OwnerOrg","ImgUrl","PostContent","UserID"])])})),128)),0==this.posts.length?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",kt,Nt)):Object(o["createCommentVNode"])("",!0)],64)}var Vt={components:{Post:Ae},data:function(){return{postsStore:A()}},computed:{posts:function(){return this.postsStore.filterPosts}},methods:{}};n("97de");const wt=G()(Vt,[["render",Et]]);var yt=wt,Pt=function(e){return Object(o["pushScopeId"])("data-v-a7a18726"),e=e(),Object(o["popScopeId"])(),e},St={class:"uk-child-width-1-2@m","uk-grid":""},Ct={class:"uk-card uk-card-default uk-card-body"},Bt=["src"],It={key:0},Lt=Pt((function(){return Object(o["createElementVNode"])("span",{"uk-icon":"happy"},null,-1)})),Dt=[Lt],xt=Pt((function(){return Object(o["createElementVNode"])("span",{"uk-icon":"history"},null,-1)})),Ft=[xt],Ut={class:"commentCard uk-card uk-card-default uk-card-body"},Rt={class:"uk-child-width-1-2@m","uk-grid":""},Tt=Pt((function(){return Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("h2",null," Comments ")],-1)})),_t=Pt((function(){return Object(o["createElementVNode"])("button",{class:"uk-button uk-button-primary",type:"button","uk-toggle":"target: #modal-likes"},"View Likes",-1)})),At={id:"modal-likes","uk-modal":""},zt={class:"uk-modal-dialog uk-modal-body"},Mt=Pt((function(){return Object(o["createElementVNode"])("button",{class:"uk-modal-close-default",type:"button","uk-close":""},null,-1)})),Gt=Pt((function(){return Object(o["createElementVNode"])("h2",{class:"uk-modal-title"},"Likes",-1)})),Jt={class:"uk-child-width-1-2@m","uk-grid":""},Kt={id:"submitPostCol"};function Qt(e,t,n,r,c,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",St,[Object(o["createElementVNode"])("div",Ct,[Object(o["createElementVNode"])("h2",null,Object(o["toDisplayString"])(s.post.ownerName),1),Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(s.post.ownerOrg),1),Object(o["createElementVNode"])("img",{src:s.post.imgUrl,alt:"microblog-photo","max-height":"100px"},null,8,Bt),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(s.post.postContent),1),Object(o["createElementVNode"])("small",null,Object(o["toDisplayString"])(s.post.userId),1),r.isAuthenticated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",It,[0==s.isPostLiked?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"reactions uk-icon-button",onClick:t[0]||(t[0]=function(e){return s.addLike()}),"uk-tooltip":"Like the Post"},Dt)):Object(o["createCommentVNode"])("",!0),1==s.isPostLiked?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:1,class:"reactions uk-icon-button",onClick:t[1]||(t[1]=function(e){return s.delLike()}),"uk-tooltip":"Remove Your Like from the Post"},Ft)):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Ut,[Object(o["createElementVNode"])("div",Rt,[Tt,Object(o["createElementVNode"])("div",null,[_t,Object(o["createElementVNode"])("div",At,[Object(o["createElementVNode"])("div",zt,[Mt,Gt,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(this.likes,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{id:"likeBox",key:e.id},[Object(o["createElementVNode"])("h5",null,Object(o["toDisplayString"])(e.OwnerName),1)])})),128))])])])]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",Jt,[Object(o["createElementVNode"])("div",null,[Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return c.comment=e}),class:"uk-textarea",maxlength:"200"},null,512),[[o["vModelText"],c.comment]])]),Object(o["createElementVNode"])("div",Kt,[Object(o["createElementVNode"])("button",{class:"subBtn uk-button uk-button-secondary",onClick:t[3]||(t[3]=function(e){return s.addComment()})},"Submit Post")])])]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.comments,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:e.id,id:"commentBox"},[Object(o["createElementVNode"])("h3",null,Object(o["toDisplayString"])(e.OwnerName),1),Object(o["createElementVNode"])("p",null,Object(o["toDisplayString"])(e.CommentContent),1)])})),128))])])}n("a434");var Ht={setup:function(){var e=Object(F["c"])();return{isAuthenticated:e.isAuthenticated,user:e.user}},data:function(){return{postsStore:A(),comment:null}},computed:{post:function(){return this.postsStore.currentPost},likes:function(){return this.postsStore.currentPostLikes},comments:function(){return this.postsStore.currentPostComments},isPostLiked:function(){var e;for(e in this.postsStore.currentPostLikes)this.postsStore.currentPostLikes[e].UserID==this.user.sub&&this.postsStore.$patch((function(t){t.myLikeId=t.currentPostLikes[e].LikeID,t.isPostLiked=!0}));return this.postsStore.isPostLiked}},methods:{addLike:function(){var e={id:this.post.id,userId:this.post.userId,ownerName:this.post.ownerName};this.postsStore.createPostLike(e),this.postsStore.$patch((function(e){e.isPostLiked=!0}))},addComment:function(){var e={id:this.post.id,userId:this.post.userId,content:this.comment,ownerName:this.post.ownerName};this.postsStore.createPostComment(e),this.comment=null},delLike:function(){var e;for(e in this.postsStore.removePostLike(),this.postsStore.currentPostLikes)this.postsStore.currentPostLikes[e].LikeID==this.postsStore.myLikeId&&this.postsStore.$patch((function(t){t.currentPostLikes.splice(e,1),t.isPostLiked=!1}))}}};n("9ae0");const Xt=G()(Ht,[["render",Qt],["__scopeId","data-v-a7a18726"]]);var qt=Xt;function Zt(e){return Object(ne["a"])({routes:[{path:"/",name:"home",component:Xe},{path:"/profile",name:"profile",component:ft,beforeEnter:Object(F["b"])(e)},{path:"/search-results",name:"search-results",component:yt,beforeEnter:Object(F["b"])(e)},{path:"/view-post",name:"view-post",component:qt,beforeEnter:Object(F["b"])(e)}],history:Object(ne["b"])()})}var Wt=n("85bd"),Yt=(n("2c43"),n("ecee")),$t=n("c074"),en=n("ad3d"),tn=n("8160"),nn=Object(o["createApp"])(te),on=Object(U["a"])();Yt["c"].add($t["a"],$t["c"],$t["b"]),nn.use(Wt["a"]).use(Zt(nn)).use(Object(F["a"])({domain:tn["b"],client_id:tn["a"],redirect_uri:window.location.origin})).use(on).component("font-awesome-icon",en["a"]).mount("#app")},f23d:function(e){e.exports=JSON.parse('{"endpoint":{"getAll":"https://prod-17.northeurope.logic.azure.com/workflows/dc270feeb34a4d74af24648ddc4bf976/triggers/manual/paths/invoke/rest/v1/assets?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=TfkGTJekKleCOtNR0A2cGAGa2lp3sugSjZ8oZZjyUzQ","createPost":"https://prod-15.northeurope.logic.azure.com/workflows/ffca8f2c245d4e56861feb67aa532a79/triggers/manual/paths/invoke/rest/v1/assets?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=8l4j0XsFKDC9k5oAwes-ZX4P_tdwiBSUSqArhBXyKl8","deletePost":"https://prod-41.northeurope.logic.azure.com/workflows/0a3ae2d161e94c97ab65b30e0c986822/triggers/manual/paths/invoke/rest/v1/assets/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=W7S8B5YfXhOjBJh5UG8N_w4TmtWx5b9inZ_kdze0Vvg","getPost":"https://prod-01.northeurope.logic.azure.com/workflows/24294d8318164a41b3964b762cff699d/triggers/manual/paths/invoke/rest/v1/assets/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=AXDuH58o-ajU9JKIK1Blq0V0WrDq2z6ODz9C0tiGJaI","updatePost":"https://prod-07.northeurope.logic.azure.com/workflows/ccc288b966734bc8b3e921fca39ee93d/triggers/manual/paths/invoke/rest/v1/assets/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=xjUQfH-KLEKa7D-HiqY5OrlBPRpkxdu3flm-cKRGvvg","createPostLike":"https://prod-40.northeurope.logic.azure.com/workflows/2ee64123667f45d3b60accaaae7ac55c/triggers/manual/paths/invoke/rest/v1/likes/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=AG1zVQ90VFL24yu-T1BfK46I_Yvvw0Ssrj_HFXQe1cw","getPostLikes":"https://prod-04.northeurope.logic.azure.com/workflows/ed0717be93cd4de1870595d0bfda5ce7/triggers/manual/paths/invoke/rest/v1/likes/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=mUvfKvJXVkM08JHdPFJE8GbWSZnfh5g_XWe787nBWxM","createPostComment":"https://prod-22.northeurope.logic.azure.com/workflows/ca246b853fea4be594ceef17cd8ff6a6/triggers/manual/paths/invoke/rest/v1/comments/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=953zgXe3dI54MyBgx67_OIYTlSTGGjzSo1PwiDLr9nc","getPostComments":"https://prod-45.northeurope.logic.azure.com/workflows/ef56db3b659f43f2bf815e4135b7cbea/triggers/manual/paths/invoke/rest/v1/comments/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=hVtLSGPQ0HwmJno2SL6PGcQ8gKXPgJ3Owt77uceC32w","isPostLiked":"https://prod-53.northeurope.logic.azure.com/workflows/7dfe0eb1dba34db29bcfc7d537fe657e/triggers/manual/paths/invoke/rest/v1/like?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=b8udKsRzYVjvhQlVcTDPVxXTwU7Zp-qP-2G9PVTuiJo","removePostLike":"https://prod-25.northeurope.logic.azure.com/workflows/3fb849440b834073b95c889459abfedc/triggers/manual/paths/invoke/rest/v1/likes/{id}?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=JbJlImPeDdPYgAvMG6_vEBkgXkrasObRu1pEeh3OjtY","getPostSentiment":"https://prod-45.northeurope.logic.azure.com/workflows/f613a90a02544ff49b3f907198fc6efd/triggers/manual/paths/invoke/rest/v1/assets/sentiment?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=CFfkk_eHagnaiDaVeWwOpW72m96cK6iZ7IQVs6jlb7U","getPostImageAnalytics":"https://prod-10.northeurope.logic.azure.com/workflows/b01c396c0d954e52ae46ae13af28a298/triggers/manual/paths/invoke/rest/v1/assets/images?api-version=2016-10-01&sp=%2Ftriggers%2Fmanual%2Frun&sv=1.0&sig=TbDMcHU164vX59r6mUo8UjYs3KfDhDaGnHuoaoEphPc"}}')}});