{"remainingRequest":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/babel-loader/lib/index.js!/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/ronan/Uni/COM682/microblog-frontend/src/components/Post.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ronan/Uni/COM682/microblog-frontend/src/components/Post.vue","mtime":1659271282715},{"path":"/home/ronan/Uni/COM682/microblog-frontend/babel.config.js","mtime":1658142276000},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658172087279},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/babel-loader/lib/index.js","mtime":1658172088167},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658172087279},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1658172087755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdXNlUG9zdHNTdG9yZSB9IGZyb20gJ0Avc3RvcmVzL3Bvc3RzJzsKaW1wb3J0IHsgdXNlQXV0aDAgfSBmcm9tICdAYXV0aDAvYXV0aDAtdnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3N0IiwKICBwcm9wczogWydQb3N0SUQnLCAnT3duZXJOYW1lJywgJ093bmVyT3JnJywgJ0ltZ1VybCcsICdQb3N0Q29udGVudCcsICdVc2VySUQnXSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgYXV0aDAgPSB1c2VBdXRoMCgpOwogICAgcmV0dXJuIHsKICAgICAgaXNBdXRoZW50aWNhdGVkOiBhdXRoMC5pc0F1dGhlbnRpY2F0ZWQsCiAgICAgIHVzZXI6IGF1dGgwLnVzZXIKICAgIH07CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcG9zdHNTdG9yZTogdXNlUG9zdHNTdG9yZSgpLAogICAgICBpc0xvYWRpbmc6IGZhbHNlCiAgICB9OwogIH0sCiAgLy8gbW91bnRlZCgpewogIC8vIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlbnRpbWVudDogZnVuY3Rpb24gc2VudGltZW50KCkgewogICAgICByZXR1cm4gdGhpcy5wb3N0c1N0b3JlLmN1cnJlbnRTZW50aW1lbnRSZXN1bHRzOwogICAgfSwKICAgIGltYWdlUmVzdWx0czogZnVuY3Rpb24gaW1hZ2VSZXN1bHRzKCkgewogICAgICByZXR1cm4gdGhpcy5wb3N0c1N0b3JlLmN1cnJlbnRJbWFnZVJlc3VsdHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB2aWV3UG9zdDogZnVuY3Rpb24gdmlld1Bvc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLnBvc3RzU3RvcmUuZ2V0UG9zdExpa2VzKHRoaXMuUG9zdElEKTsKICAgICAgdGhpcy5wb3N0c1N0b3JlLmdldFBvc3RDb21tZW50cyh0aGlzLlBvc3RJRCk7CiAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5wb3N0c1N0b3JlLiRwYXRjaChmdW5jdGlvbiAoc3RhdGUpIHsKICAgICAgICBzdGF0ZS5jdXJyZW50UG9zdCA9IHsKICAgICAgICAgICdpZCc6IF90aGlzLlBvc3RJRCwKICAgICAgICAgICd1c2VySWQnOiBfdGhpcy5Vc2VySUQsCiAgICAgICAgICAnb3duZXJOYW1lJzogX3RoaXMuT3duZXJOYW1lLAogICAgICAgICAgJ293bmVyT3JnJzogX3RoaXMuT3duZXJPcmcsCiAgICAgICAgICAnaW1nVXJsJzogX3RoaXMuSW1nVXJsLAogICAgICAgICAgJ3Bvc3RDb250ZW50JzogX3RoaXMuUG9zdENvbnRlbnQKICAgICAgICB9OwogICAgICB9KTsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvdmlldy1wb3N0Jyk7CgogICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgICB9LCAyMDAwKTsKICAgIH0sCiAgICBhbmFseXNlU2VudGltZW50OiBmdW5jdGlvbiBhbmFseXNlU2VudGltZW50KCkgewogICAgICB0aGlzLnBvc3RzU3RvcmUuYW5hbHlzZVNlbnRpbWVudCh0aGlzLlBvc3RDb250ZW50KTsKICAgIH0sCiAgICBhbmFseXNlSW1hZ2U6IGZ1bmN0aW9uIGFuYWx5c2VJbWFnZSgpIHsKICAgICAgdGhpcy5wb3N0c1N0b3JlLmFuYWx5c2VCbG9nSW1hZ2UodGhpcy5JbWdVcmwpOwogICAgfQogIH0KfTs="},{"version":3,"mappings":"AACA,SAASA,aAAT,QAA8B,gBAA9B;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAGA,eAAe;EACbC,IAAI,EAAE,MADO;EAEbC,KAAK,EAAE,CAAC,QAAD,EAAW,WAAX,EAAwB,UAAxB,EAAoC,QAApC,EAA8C,aAA9C,EAA6D,QAA7D,CAFM;EAGbC,KAHa,mBAGL;IACN,IAAMC,KAAK,GAAGJ,QAAQ,EAAtB;IAEA,OAAO;MACLK,eAAe,EAAED,KAAK,CAACC,eADlB;MAELC,IAAI,EAAEF,KAAK,CAACE;IAFP,CAAP;EAID,CAVY;EAYbC,IAZa,kBAYP;IACJ,OAAM;MACJC,UAAU,EAAET,aAAa,EADrB;MAEJU,SAAS,EAAE;IAFP,CAAN;EAKD,CAlBY;EAmBb;EAEA;EACAC,QAAQ,EAAE;IACRC,SADQ,uBACI;MACV,OAAO,KAAKH,UAAL,CAAgBI,uBAAvB;IACD,CAHO;IAIRC,YAJQ,0BAIO;MACb,OAAO,KAAKL,UAAL,CAAgBM,mBAAvB;IACD;EANO,CAtBG;EA8BbC,OAAO,EAAE;IACPC,QADO,sBACI;MAAA;;MACT,KAAKR,UAAL,CAAgBS,YAAhB,CAA6B,KAAKC,MAAlC;MACA,KAAKV,UAAL,CAAgBW,eAAhB,CAAgC,KAAKD,MAArC;MACA,KAAKT,SAAL,GAAiB,IAAjB;MACA,KAAKD,UAAL,CAAgBY,MAAhB,CAAuB,UAACC,KAAD,EAAW;QAChCA,KAAK,CAACC,WAAN,GAAoB;UAAC,MAAM,KAAI,CAACJ,MAAZ;UAAoB,UAAU,KAAI,CAACK,MAAnC;UAA2C,aAAa,KAAI,CAACC,SAA7D;UAAwE,YAAY,KAAI,CAACC,QAAzF;UAAmG,UAAU,KAAI,CAACC,MAAlH;UAA0H,eAAe,KAAI,CAACC;QAA9I,CAApB;MACD,CAFD;MAGAC,UAAU,CAAC,YAAM;QAAE,KAAI,CAACC,OAAL,CAAaC,IAAb,CAAkB,YAAlB;;QACA,KAAI,CAACrB,SAAL,GAAiB,KAAjB;MAA0B,CADnC,EACqC,IADrC,CAAV;IAED,CAVM;IAWPsB,gBAXO,8BAWY;MACjB,KAAKvB,UAAL,CAAgBuB,gBAAhB,CAAiC,KAAKJ,WAAtC;IACD,CAbM;IAcPK,YAdO,0BAcQ;MACb,KAAKxB,UAAL,CAAgByB,gBAAhB,CAAiC,KAAKP,MAAtC;IACD;EAhBM;AA9BI,CAAf","names":["usePostsStore","useAuth0","name","props","setup","auth0","isAuthenticated","user","data","postsStore","isLoading","computed","sentiment","currentSentimentResults","imageResults","currentImageResults","methods","viewPost","getPostLikes","PostID","getPostComments","$patch","state","currentPost","UserID","OwnerName","OwnerOrg","ImgUrl","PostContent","setTimeout","$router","push","analyseSentiment","analyseImage","analyseBlogImage"],"sourceRoot":"","sources":["/home/ronan/Uni/COM682/microblog-frontend/src/components/Post.vue"],"sourcesContent":["<template>\n  <div v-if=\"isAuthenticated\">\n    <div v-if=\"isLoading == false\" class=\"uk-card uk-card-default uk-card-body\">\n      <button class=\"reactions uk-icon-button\" type=\"button\" uk-toggle=\"target: #modal-sentiment\" @click=\"analyseSentiment\">\n        <span uk-icon=\"code\" uk-tooltip=\"Analyse Sentiment\"></span>\n      </button>\n      <button class=\"reactions uk-icon-button\" type=\"button\" uk-toggle=\"target: #modal-image\" @click=\"analyseImage()\">\n        <span uk-icon=\"image\" uk-tooltip=\"Analyse Blog Image\"></span>\n      </button>\n      <!-- Analysis Modals -->\n      <div id=\"modal-sentiment\" class=\"uk-flex-top\" uk-modal>\n          <div class=\"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\" v-if=\"sentiment\">\n              <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n              <h2>Sentiment Results</h2>\n              <label>Neutral: {{sentiment.confidenceScores.neutral}}</label>\n              <progress class=\"uk-progress\" :value=\"sentiment.confidenceScores.neutral\"></progress>\n              <label>Positive: {{sentiment.confidenceScores.positive}}</label>\n              <progress class=\"uk-progress\" :value=\"sentiment.confidenceScores.positive\"></progress>\n              <label>Negative: {{sentiment.confidenceScores.negative}}</label>\n              <progress class=\"uk-progress\" :value=\"sentiment.confidenceScores.negative\"></progress>\n              <h3>Result: {{sentiment.sentiment}}</h3>\n          </div>\n      </div>\n      <div id=\"modal-image\" class=\"uk-flex-top\" uk-modal>\n        <div class=\"uk-modal-dialog uk-modal-body uk-margin-auto-vertical\" v-if=\"imageResults\">\n          <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n          <h2>Image Results</h2>\n          <h3>Final Result: {{imageResults.description.captions[0].text}}</h3>\n          <h4>Confidence: {{imageResults.description.captions[0].confidence.toFixed(2)*100}} %</h4>\n          <progress class=\"uk-progress\" :value=\"imageResults.description.captions[0].confidence\"></progress>\n          <h2>Other Suggestions</h2>\n          <div v-for=\"tag in imageResults.tags\" v-bind:key=\"tag.id\">\n            <p>Name: {{tag.name}},  Confidence: {{tag.confidence.toFixed(2)*100}}%</p>\n            <progress class=\"uk-progress\" :value=\"tag.confidence\"></progress>\n          </div>\n        </div>\n      </div>\n\n      <h3>{{ OwnerName }}</h3>\n      <h5>{{ OwnerOrg }}</h5>\n      <img :src=\"ImgUrl\" alt=\"microblog-photo\" max-height=\"100px\">\n      <p>{{ PostContent }}</p>\n      <small>{{ UserID }}</small>\n      <a class=\"reactions uk-icon-button\" @click=\"viewPost()\">\n        <span uk-icon=\"file-text\" uk-tooltip=\"View Post\"></span>\n      </a>\n    </div>\n    <div v-else-if=\"this.isLoading == true\">\n      <div uk-spinner=\"ratio: 5\" id=\"loadingSpinner\"></div>\n    </div>\n  </div>\n  <div v-else>\n    <h5 id=\"loginNotice\">\n      Login to see the latest blogs!\n    </h5>\n  </div>\n</template>\n\n<script>\nimport { usePostsStore } from '@/stores/posts';\nimport { useAuth0 } from '@auth0/auth0-vue';\n\n\nexport default {\n  name: \"Post\",\n  props: ['PostID', 'OwnerName', 'OwnerOrg', 'ImgUrl', 'PostContent', 'UserID'],\n  setup() {\n    const auth0 = useAuth0();\n    \n    return {\n      isAuthenticated: auth0.isAuthenticated,\n      user: auth0.user,\n    }\n  },\n\n  data(){\n    return{\n      postsStore: usePostsStore(),\n      isLoading: false\n      \n    }\n  },\n  // mounted(){\n  \n  // },\n  computed: {\n    sentiment() {\n      return this.postsStore.currentSentimentResults\n    },\n    imageResults() {\n      return this.postsStore.currentImageResults\n    }\n  },\n  methods: {\n    viewPost() {\n      this.postsStore.getPostLikes(this.PostID)\n      this.postsStore.getPostComments(this.PostID)\n      this.isLoading = true\n      this.postsStore.$patch((state) => {\n        state.currentPost = {'id': this.PostID, 'userId': this.UserID, 'ownerName': this.OwnerName, 'ownerOrg': this.OwnerOrg, 'imgUrl': this.ImgUrl, 'postContent': this.PostContent}\n      })\n      setTimeout(() => { this.$router.push('/view-post')\n                         this.isLoading = false;  }, 2000)\n    },\n    analyseSentiment() {\n      this.postsStore.analyseSentiment(this.PostContent)\n    },\n    analyseImage() {\n      this.postsStore.analyseBlogImage(this.ImgUrl)\n    }\n  }\n};\n</script>\n<style scoped>\n  .uk-card{\n    width: 60vw;\n    height: fit-content;\n    margin: 5vw;\n    float: left;\n  }\n  .uk-grid>* {\n    margin-right: 10vw;\n  }\n  .uk-grid{\n    margin-left: 4vw;\n  }\n\n  /* .uk-icon{\n  \n  } */\n\n  .reactions{\n    float: right;\n  }\n\n  #loadingSpinner{\n    margin-left: 28vw;\n  }\n\n  #loginNotice{\n    margin-top: 10vh;\n    text-align: center;\n  }\n\n\n</style>\n"]}]}