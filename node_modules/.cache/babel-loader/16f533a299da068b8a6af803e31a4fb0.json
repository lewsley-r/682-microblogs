{"remainingRequest":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/babel-loader/lib/index.js!/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/ronan/Uni/COM682/microblog-frontend/src/components/NavBar.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/ronan/Uni/COM682/microblog-frontend/src/components/NavBar.vue","mtime":1659307630794},{"path":"/home/ronan/Uni/COM682/microblog-frontend/babel.config.js","mtime":1658142276000},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1659273528982},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/babel-loader/lib/index.js","mtime":1659273529530},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1659273528982},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1659273529486}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgeyB1c2VBdXRoMCB9IGZyb20gJ0BhdXRoMC9hdXRoMC12dWUnOwppbXBvcnQgeyB1c2VQb3N0c1N0b3JlIH0gZnJvbSAnQC9zdG9yZXMvcG9zdHMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk5hdkJhciIsCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIGF1dGgwID0gdXNlQXV0aDAoKTsKICAgIHJldHVybiB7CiAgICAgIGlzQXV0aGVudGljYXRlZDogYXV0aDAuaXNBdXRoZW50aWNhdGVkLAogICAgICBpc0xvYWRpbmc6IGF1dGgwLmlzTG9hZGluZywKICAgICAgdXNlcjogYXV0aDAudXNlciwKICAgICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKCkgewogICAgICAgIGF1dGgwLmxvZ2luV2l0aFJlZGlyZWN0KCk7CiAgICAgIH0sCiAgICAgIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgIGF1dGgwLmxvZ291dCh7CiAgICAgICAgICByZXR1cm5Ubzogd2luZG93LmxvY2F0aW9uLm9yaWdpbgogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNlYXJjaFF1ZXJ5OiBudWxsLAogICAgICBwb3N0c1N0b3JlOiB1c2VQb3N0c1N0b3JlKCkKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWFyY2hCeVVzZXI6IGZ1bmN0aW9uIHNlYXJjaEJ5VXNlcigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMucG9zdHNTdG9yZS4kcGF0Y2goZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgc3RhdGUuZmlsdGVyUG9zdHMgPSBbXTsKICAgICAgfSk7CiAgICAgIHZhciBwb3N0OwoKICAgICAgZm9yIChwb3N0IGluIHRoaXMucG9zdHNTdG9yZS5wb3N0cykgewogICAgICAgIGlmICh0aGlzLnBvc3RzU3RvcmUucG9zdHNbcG9zdF0uTmFtZU9mT1duZXIuaW5jbHVkZXModGhpcy5zZWFyY2hRdWVyeSkpIHsKICAgICAgICAgIHRoaXMucG9zdHNTdG9yZS4kcGF0Y2goZnVuY3Rpb24gKHN0YXRlKSB7CiAgICAgICAgICAgIHN0YXRlLmZpbHRlclBvc3RzLnB1c2goX3RoaXMucG9zdHNTdG9yZS5wb3N0c1twb3N0XSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGlmIChwYXJzZUludChwb3N0KSArIDEgPT0gdGhpcy5wb3N0c1N0b3JlLnBvc3RzLmxlbmd0aCkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9zZWFyY2gtcmVzdWx0cycpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"mappings":";;AACA,SAASA,QAAT,QAAyB,kBAAzB;AACA,SAASC,aAAT,QAA8B,gBAA9B;AAEA,eAAe;EACbC,IAAI,EAAE,QADO;EAEbC,KAFa,mBAEL;IACN,IAAMC,KAAK,GAAGJ,QAAQ,EAAtB;IAEA,OAAO;MACLK,eAAe,EAAED,KAAK,CAACC,eADlB;MAELC,SAAS,EAAEF,KAAK,CAACE,SAFZ;MAGLC,IAAI,EAAEH,KAAK,CAACG,IAHP;MAILC,KAJK,mBAIG;QACNJ,KAAK,CAACK,iBAAN;MACD,CANI;MAOLC,MAPK,oBAOI;QACPN,KAAK,CAACM,MAAN,CAAa;UACXC,QAAQ,EAAEC,MAAM,CAACC,QAAP,CAAgBC;QADf,CAAb;MAGD;IAXI,CAAP;EAaD,CAlBY;EAmBbC,IAnBa,kBAmBP;IACJ,OAAM;MACJC,WAAW,EAAE,IADT;MAEJC,UAAU,EAAEhB,aAAa;IAFrB,CAAN;EAID,CAxBY;EAyBbiB,OAAO,EAAE;IACPC,YADO,0BACO;MAAA;;MACZ,KAAKF,UAAL,CAAgBG,MAAhB,CAAuB,UAACC,KAAD,EAAW;QAChCA,KAAK,CAACC,WAAN,GAAoB,EAApB;MACD,CAFD;MAGA,IAAIC,IAAJ;;MACA,KAAKA,IAAL,IAAa,KAAKN,UAAL,CAAgBO,KAA7B,EAAmC;QACjC,IAAG,KAAKP,UAAL,CAAgBO,KAAhB,CAAsBD,IAAtB,EAA4BE,WAA5B,CAAwCC,QAAxC,CAAiD,KAAKV,WAAtD,CAAH,EAAsE;UACpE,KAAKC,UAAL,CAAgBG,MAAhB,CAAuB,UAACC,KAAD,EAAW;YAChCA,KAAK,CAACC,WAAN,CAAkBK,IAAlB,CAAuB,KAAI,CAACV,UAAL,CAAgBO,KAAhB,CAAsBD,IAAtB,CAAvB;UACD,CAFD;QAGD;;QACD,IAAGK,QAAQ,CAACL,IAAD,CAAR,GAAe,CAAf,IAAoB,KAAKN,UAAL,CAAgBO,KAAhB,CAAsBK,MAA7C,EAAoD;UAClD,KAAKC,OAAL,CAAaH,IAAb,CAAkB,iBAAlB;QACD;MACF;IACF;EAhBM;AAzBI,CAAf","names":["useAuth0","usePostsStore","name","setup","auth0","isAuthenticated","isLoading","user","login","loginWithRedirect","logout","returnTo","window","location","origin","data","searchQuery","postsStore","methods","searchByUser","$patch","state","filterPosts","post","posts","NameOfOWner","includes","push","parseInt","length","$router"],"sourceRoot":"","sources":["/home/ronan/Uni/COM682/microblog-frontend/src/components/NavBar.vue"],"sourcesContent":["<template>\n  <div class=\"nav-container mb-3\">\n    <nav class=\"navbar navbar-expand-md navbar-light bg-light\">\n      <div class=\"container\">\n        <img src=\"/logo_transparent.png\" style=\"height:200px; border-radius: 10em; padding: 1vh ; margin-top:2.5vh\">\n     \n\n        <div class=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul class=\"navbar-nav mr-auto\">\n            <li class=\"nav-item\">\n              <router-link to=\"/\" class=\"nav-link\">Home</router-link>\n            </li>\n            <li v-if=\"isAuthenticated\">\n              <form v-on:submit.prevent class=\"uk-search\">\n                  <input v-model=\"searchQuery\" class=\"uk-search-input\" type=\"search\" @keyup.enter=\"searchByUser()\" placeholder=\"Search Blogs by Owner's name..\">\n              </form>\n            </li>\n          </ul>\n          <ul class=\"navbar-nav d-none d-md-block\">\n            <li v-if=\"!isAuthenticated && !isLoading\" class=\"nav-item\">\n              <button\n                id=\"qsLoginBtn\"\n                class=\"btn btn-primary btn-margin\"\n                @click.prevent=\"login\"\n              >Login</button>\n            </li>\n            \n            <li class=\"nav-item dropdown\" v-if=\"isAuthenticated\">\n              <a\n                class=\"nav-link dropdown-toggle\"\n                href=\"#\"\n                id=\"profileDropDown\"\n                data-toggle=\"dropdown\"\n              >\n                <img\n                  :src=\"user.picture\"\n                  alt=\"User's profile picture\"\n                  class=\"nav-user-profile rounded-circle\"\n                  width=\"50\"\n                />\n              </a>\n              <div class=\"dropdown-menu dropdown-menu-right\">\n                <div class=\"dropdown-header\">{{ user.name }}</div>\n                <router-link to=\"/profile\" class=\"dropdown-item dropdown-profile\">\n                  <font-awesome-icon class=\"mr-3\" icon=\"user\" />Profile\n                </router-link>\n                <a id=\"qsLogoutBtn\" href=\"#\" class=\"dropdown-item\" @click.prevent=\"logout\">\n                  <font-awesome-icon class=\"mr-3\" icon=\"power-off\" />Log out\n                </a>\n              </div>\n            </li>\n          </ul>\n\n          <ul class=\"navbar-nav d-md-none\" v-if=\"!isAuthenticated && !isLoading\">\n            <button id=\"qsLoginBtn\" class=\"btn btn-primary btn-block\" @click=\"login\">Log in</button>\n          </ul>\n\n          <ul\n            id=\"mobileAuthNavBar\"\n            class=\"navbar-nav d-md-none d-flex\"\n            v-if=\"isAuthenticated\"\n          >\n            <li class=\"nav-item\">\n              <span class=\"user-info\">\n                <img\n                  :src=\"user.picture\"\n                  alt=\"User's profile picture\"\n                  class=\"nav-user-profile d-inline-block rounded-circle mr-3\"\n                  width=\"50\"\n                />\n                <h6 class=\"d-inline-block\">{{ user.name }}</h6>\n              </span>\n            </li>\n            <li>\n              <font-awesome-icon icon=\"user\" class=\"mr-3\" />\n              <router-link to=\"/profile\">Profile</router-link>\n            </li>\n\n            <li>\n              <font-awesome-icon icon=\"power-off\" class=\"mr-3\" />\n              <a id=\"qsLogoutBtn\" href=\"#\" class @click.prevent=\"logout\">Log out</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport { useAuth0 } from '@auth0/auth0-vue';\nimport { usePostsStore } from '@/stores/posts';\n\nexport default {\n  name: \"NavBar\",\n  setup() {\n    const auth0 = useAuth0();\n    \n    return {\n      isAuthenticated: auth0.isAuthenticated,\n      isLoading: auth0.isLoading,\n      user: auth0.user,\n      login() {\n        auth0.loginWithRedirect();\n      },\n      logout() {\n        auth0.logout({\n          returnTo: window.location.origin\n        });\n      }\n    }\n  },\n  data(){\n    return{\n      searchQuery: null,\n      postsStore: usePostsStore()\n    }\n  },\n  methods: {\n    searchByUser(){\n      this.postsStore.$patch((state) => {\n        state.filterPosts = []\n      })\n      var post;\n      for (post in this.postsStore.posts){\n        if(this.postsStore.posts[post].NameOfOWner.includes(this.searchQuery)){\n          this.postsStore.$patch((state) => {\n            state.filterPosts.push(this.postsStore.posts[post])\n          })\n        }\n        if(parseInt(post)+1 == this.postsStore.posts.length){\n          this.$router.push('/search-results')\n        }\n      }\n    }\n  }\n\n};\n</script>\n\n<style>\n.uk-search .uk-search-input{\n  border: 2px solid grey;\n  border-radius: 0.5em;\n  float: right;\n}\n#mobileAuthNavBar {\n  min-height: 125px;\n  justify-content: space-between;\n}\n</style>\n"]}]}