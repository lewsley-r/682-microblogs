{"remainingRequest":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue?vue&type=style&index=0&id=4f65049f&lang=css","dependencies":[{"path":"/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue","mtime":1659202681840},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/css-loader/dist/cjs.js","mtime":1658172087599},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1658172088143},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/postcss-loader/src/index.js","mtime":1658172087771},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658172087279},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1658172087755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoucmVhY3Rpb25zewogICAgZmxvYXQ6IHJpZ2h0OwoKfQoK"},{"version":3,"sources":["/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue"],"names":[],"mappings":";;AAoGA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;;AAEhB","file":"/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue","sourceRoot":"","sourcesContent":["<template>\n   <div class=\"uk-child-width-1-2@m\" uk-grid>\n        <div class=\"uk-card uk-card-default uk-card-body\">\n            <h2>{{ post.ownerName }}</h2>\n            <h5>{{ post.ownerOrg }}</h5>\n            <img :src=\"post.imgUrl\" alt=\"microblog-photo\" max-height=\"100px\">\n            <p>{{ post.postContent }}</p>\n            <small>{{ post.userId }}</small>\n            <div v-if=\"isAuthenticated\">\n                <a v-if=\"isPostLiked == false\" class=\"reactions uk-icon-button\" @click=\"addLike()\" uk-tooltip=\"Like the Post\">\n                <span uk-icon=\"happy\"></span>\n                </a>\n                <a v-if=\"isPostLiked == true\" class=\"reactions uk-icon-button\" @click=\"delLike()\" uk-tooltip=\"Remove Your Like from the Post\">\n                <span uk-icon=\"history\"></span>\n                </a>\n                <a class=\"reactions uk-icon-button\" uk-tooltip=\"Reply to this post\">\n                <span uk-icon=\"comments\"></span>\n                </a>\n            </div>\n        </div>\n        <div class=\"uk-card uk-card-default uk-card-body\">\n            <h2>\n                Comments\n            </h2>\n        </div>\n\n\n   </div>\n</template>\n\n<script>\nimport { usePostsStore } from '@/stores/posts'\nimport { useAuth0 } from '@auth0/auth0-vue'\n\nexport default {\n    setup() {\n        const auth0 = useAuth0();\n        \n        return {\n        isAuthenticated: auth0.isAuthenticated,\n        user: auth0.user,\n        }\n    },\n    data(){\n        return{\n            postsStore: usePostsStore()\n            \n        }\n    },\n    computed: {\n        post(){\n            return this.postsStore.currentPost\n        },\n        likes(){\n            return this.postsStore.currentPostLikes\n        },\n        isPostLiked(){\n            var like;\n            for (like in this.postsStore.currentPostLikes){\n                if (this.postsStore.currentPostLikes[like].UserID == this.user.sub){\n                    console.log(\"foond it luv\")\n                     this.postsStore.$patch((state) => {\n                        state.myLikeId = state.currentPostLikes[like].LikeID\n                        state.isPostLiked = true\n                    })\n                }\n\n            }\n            console.log(\"i been run mucker\")\n            return this.postsStore.isPostLiked\n        \n        },\n\n    },\n    methods: {\n        addLike() {\n            var post = {'id': this.post.id, 'userId': this.post.userId}\n            this.postsStore.createPostLike(post)\n\n        },\n        delLike() {\n            this.postsStore.removePostLike()\n            var like;\n            for (like in this.postsStore.currentPostLikes){\n                if (this.postsStore.currentPostLikes[like].LikeID == this.postsStore.myLikeId){\n                    this.postsStore.$patch((state) => {\n                        state.currentPostLikes.splice(like, 1)\n                    })\n                }\n            }\n            \n            \n        }\n    }\n\n}\n</script>\n\n<style>\n\n.reactions{\n    float: right;\n\n}\n\n</style>"]}]}