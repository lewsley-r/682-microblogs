{"remainingRequest":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue?vue&type=style&index=0&id=4f65049f&scoped=true&lang=css","dependencies":[{"path":"/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue","mtime":1659214760814},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/css-loader/dist/cjs.js","mtime":1658172087599},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1658172088143},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/postcss-loader/src/index.js","mtime":1658172087771},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1658172087279},{"path":"/home/ronan/Uni/COM682/microblog-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1658172087755}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jb21tZW50Q2FyZHsKICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIG1heC1oZWlnaHQ6IDYwdmg7Cn0KLnJlYWN0aW9uc3sKICAgIGZsb2F0OiByaWdodDsKfQoKLnN1YkJ0bnsKICAgIGhlaWdodDogMTB2aDsKICAgIG1hcmdpbi1sZWZ0OiAydnc7Cn0KLnVrLXRleHRhcmVhewogICAgbWluLXdpZHRoOiAyMHZ3OwogICAgbWluLWhlaWdodDogMTB2aDsKfQoKLnVrLWdyaWR7CiAgICBtYXJnaW4tYm90dG9tOiA1dmg7Cn0KCiNjb21tZW50Qm94ewogICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRncmF5OwogICAgcGFkZGluZzogMXZoOwogICAgbWFyZ2luOiAxdmg7Cn0KCiNsaWtlQm94ewogICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRncmF5OwogICAgcGFkZGluZzogMXZoOwogICAgbWFyZ2luOiAxdmg7Cn0KCiNzdWJtaXRQb3N0Q29sewogICAgbWFyZ2luLWxlZnQ6IDV2dzsKICAgIHdpZHRoOiAyNSU7Cn0KCgo="},{"version":3,"sources":["/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue"],"names":[],"mappings":";AA6IA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACN,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAChB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACpB;AACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACpB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACtB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACf;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACf;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACd","file":"/home/ronan/Uni/COM682/microblog-frontend/src/views/ViewPost.vue","sourceRoot":"","sourcesContent":["<template>\n   <div class=\"uk-child-width-1-2@m\" uk-grid>\n        <div class=\"uk-card uk-card-default uk-card-body\">\n            <h2>{{ post.ownerName }}</h2>\n            <h5>{{ post.ownerOrg }}</h5>\n            <img :src=\"post.imgUrl\" alt=\"microblog-photo\" max-height=\"100px\">\n            <p>{{ post.postContent }}</p>\n            <small>{{ post.userId }}</small>\n            <div v-if=\"isAuthenticated\">\n                <a v-if=\"isPostLiked == false\" class=\"reactions uk-icon-button\" @click=\"addLike()\" uk-tooltip=\"Like the Post\">\n                <span uk-icon=\"happy\"></span>\n                </a>\n                <a v-if=\"isPostLiked == true\" class=\"reactions uk-icon-button\" @click=\"delLike()\" uk-tooltip=\"Remove Your Like from the Post\">\n                <span uk-icon=\"history\"></span>\n                </a>\n            </div>\n        </div>\n        <div class=\"commentCard uk-card uk-card-default uk-card-body\">\n            <div class=\"uk-child-width-1-2@m\" uk-grid>\n                <div>  \n                     <h2>\n                        Comments\n                    </h2>\n                </div>\n           \n                <div>\n                    <button class=\"uk-button uk-button-primary\" type=\"button\" uk-toggle=\"target: #modal-likes\">View Likes</button>\n                    <div id=\"modal-likes\" uk-modal>\n                        <div class=\"uk-modal-dialog uk-modal-body\">\n                            <button class=\"uk-modal-close-default\" type=\"button\" uk-close></button>\n                            <h2 class=\"uk-modal-title\">Likes</h2>\n                            <div id=\"likeBox\" v-for=\"like in this.likes\" v-bind:key=\"like.id\">\n                                <h5>\n                                    {{like.OwnerName}}\n                                </h5>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div>\n               \n                <div class=\"uk-child-width-1-2@m\" uk-grid>\n                    <div>\n                        <textarea v-model=\"comment\"  class=\"uk-textarea\" maxlength=\"200\"></textarea>  \n                    </div>         \n                    <div id=\"submitPostCol\">\n                        <button class=\"subBtn uk-button uk-button-secondary\" @click=\"addComment()\">Submit Post</button>\n                    </div>\n                </div>\n\n            </div>\n            <div v-for=\"comment in comments\" v-bind:key=\"comment.id\" id=\"commentBox\">\n                <h3>{{comment.OwnerName}}</h3>\n                <p>{{comment.CommentContent}}</p>\n            </div>\n        </div>\n\n\n   </div>\n</template>\n\n<script>\nimport { usePostsStore } from '@/stores/posts'\nimport { useAuth0 } from '@auth0/auth0-vue'\n\nexport default {\n    setup() {\n        const auth0 = useAuth0();\n        return {\n            isAuthenticated: auth0.isAuthenticated,\n            user: auth0.user,\n        }\n    },\n    data(){\n        return{\n            postsStore: usePostsStore(),\n            comment : null\n            \n        }\n    },\n    computed: {\n        post(){\n            return this.postsStore.currentPost\n        },\n        likes(){\n            return this.postsStore.currentPostLikes\n        },\n        comments(){\n            return this.postsStore.currentPostComments\n        },\n        isPostLiked(){\n            var like;\n            for (like in this.postsStore.currentPostLikes){\n                if (this.postsStore.currentPostLikes[like].UserID == this.user.sub){\n                     this.postsStore.$patch((state) => {\n                        state.myLikeId = state.currentPostLikes[like].LikeID\n                        state.isPostLiked = true\n                    })\n                }\n\n            }\n            return this.postsStore.isPostLiked\n        \n        },\n\n    },\n    methods: {\n        addLike() {\n            var post = {'id': this.post.id, 'userId': this.post.userId,'ownerName': this.post.ownerName}\n            this.postsStore.createPostLike(post)\n            this.postsStore.$patch((state) => {\n                state.isPostLiked = true\n            })\n\n        },\n        addComment() {\n            var post = {'id': this.post.id, 'userId': this.post.userId, 'content': this.comment, 'ownerName': this.post.ownerName}\n            this.postsStore.createPostComment(post)\n            this.comment = null\n        },\n        delLike() {\n            this.postsStore.removePostLike()\n            var like;\n            for (like in this.postsStore.currentPostLikes){\n                if (this.postsStore.currentPostLikes[like].LikeID == this.postsStore.myLikeId){\n                    this.postsStore.$patch((state) => {\n                        state.currentPostLikes.splice(like, 1)\n                        state.isPostLiked = false\n                    })\n                }\n            }\n            \n            \n        }\n    }\n\n}\n</script>\n\n<style scoped>\n.commentCard{\n    overflow-y: scroll;\n    max-height: 60vh;\n}\n.reactions{\n    float: right;\n}\n\n.subBtn{\n    height: 10vh;\n    margin-left: 2vw;\n}\n.uk-textarea{\n    min-width: 20vw;\n    min-height: 10vh;\n}\n\n.uk-grid{\n    margin-bottom: 5vh;\n}\n\n#commentBox{\n    border: 2px solid lightgray;\n    padding: 1vh;\n    margin: 1vh;\n}\n\n#likeBox{\n    border: 2px solid lightgray;\n    padding: 1vh;\n    margin: 1vh;\n}\n\n#submitPostCol{\n    margin-left: 5vw;\n    width: 25%;\n}\n\n\n</style>"]}]}